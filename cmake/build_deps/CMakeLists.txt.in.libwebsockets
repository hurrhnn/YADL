cmake_minimum_required(VERSION 3.1)
project(libwebsockets NONE)
include(ExternalProject)

ExternalProject_Add(libwebsockets
        GIT_REPOSITORY https://github.com/warmcat/libwebsockets.git
        GIT_TAG main
        CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${CMAKE_CURRENT_BINARY_DIR}/install -DLWS_WITHOUT_TESTAPPS=ON -DLWS_WITHOUT_TEST_SERVER=ON -DLWS_WITHOUT_TEST_SERVER_EXTPOLL=ON -DLWS_WITHOUT_TEST_PING=ON -DLWS_WITHOUT_TEST_CLIENT=ON -DLWS_WITH_STRUCT_JSON=OFF -DLWS_IPV6=ON -DLWS_WITH_HTTP2=OFF -DLWS_WITH_LIBEVENT=OFF -DLWS_WITH_LIBUV=ON -DLWS_WITH_PLUGINS=OFF -DLWS_WITH_ZLIB=ON -DLWS_WITH_ZIP_FOPS=ON -DLWS_WITH_NETLINK=OFF
        PREFIX ../../submodules/libwebsockets)
